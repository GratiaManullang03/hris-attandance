# Application
APP_NAME=hris_attendance
APP_VERSION=1.0.0
DEBUG=true

# Database
DATABASE_URL=postgresql://user:password@localhost/hris_attendance

# Database Connection Pool Settings
# IMPORTANT: Tune based on your database connection limit!
# For Aiven free tier (20 connections): DB_POOL_SIZE=3, DB_MAX_OVERFLOW=5 (max 8 per app)
# For production (100+ connections): Increase accordingly
# Formula: Total Connections = (DB_POOL_SIZE + DB_MAX_OVERFLOW) Ã— Number of App Instances
DB_POOL_SIZE=3
DB_MAX_OVERFLOW=5
DB_POOL_RECYCLE=3600
DB_POOL_TIMEOUT=30
DB_POOL_PRE_PING=true

# Atlas SSO
# Configure these based on your Atlas SSO environment (dev/staging/production)
ATLAS_SSO_URL=https://api.atlas-microapi.atamsindonesia.com/api/v1
ATLAS_APP_CODE=HRIS_ATTENDANCE
ATLAS_ENCRYPTION_KEY=7c5f7132ba1a6e566bccc56416039bea
ATLAS_ENCRYPTION_IV=ce84582d0e6d2591

# Response Encryption (for GET endpoints)
# IMPORTANT: Generate secure keys using:
#   Key (32 chars): openssl rand -hex 16
#   IV (16 chars):  openssl rand -hex 8
ENCRYPTION_ENABLED=false
ENCRYPTION_KEY=change_me_32_characters_long!!
ENCRYPTION_IV=change_me_16char

# Logging
LOGGING_ENABLED=true
LOG_LEVEL=INFO
LOG_TO_FILE=false

# CORS (optional - defaults to *.atamsindonesia.com)
# CORS_ORIGINS=["*"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# QR JWT Settings (for attendance tokens)
QR_JWT_SECRET=change-this-to-secure-secret-key
QR_JWT_ALG=HS256
QR_ROTATION_SECONDS=10
QR_EXPIRE_GRACE_SECONDS=2

# Display Authentication (for rolling-token endpoint)
DISPLAY_API_KEY=display-secret-123

# Auto-checkout settings
AUTO_CHECKOUT_CRON=0 13 * * *
AUTO_CHECKOUT_REASON=auto-policy

# Geofence settings
GEOFENCE_ENFORCED=true
DEFAULT_GEOFENCE_RADIUS_M=100

# Rate limiting for scan endpoint
RATE_LIMIT_SCAN_PER_MIN=30
